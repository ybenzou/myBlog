{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      title: '',\n      body: '',\n      posts: [],\n      success: false\n    };\n  },\n  methods: {\n    fetchPosts: function fetchPosts() {\n      var _this = this;\n      axios.get('http://localhost:5000/api/posts').then(function (res) {\n        _this.posts = res.data;\n      });\n    },\n    submitPost: function submitPost() {\n      var _this2 = this;\n      axios.post('http://localhost:5000/api/post', {\n        title: this.title,\n        body: this.body\n      }).then(function () {\n        _this2.success = true;\n        _this2.title = '';\n        _this2.body = '';\n        _this2.fetchPosts(); // Refresh posts list after submission\n      })[\"catch\"](function (err) {\n        console.error(\"Error while submitting post:\", err);\n      });\n    },\n    deletePost: function deletePost(postId) {\n      var _this3 = this;\n      if (confirm(\"Are you sure you want to delete this post?\")) {\n        axios[\"delete\"](\"http://localhost:5000/api/post/\".concat(postId)).then(function () {\n          _this3.success = false;\n          _this3.fetchPosts(); // Refresh posts list after deletion\n        })[\"catch\"](function (err) {\n          console.error(\"Error deleting post:\", err);\n        });\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.fetchPosts(); // Fetch posts when the page loads\n  }\n};","map":{"version":3,"names":["axios","data","title","body","posts","success","methods","fetchPosts","_this","get","then","res","submitPost","_this2","post","err","console","error","deletePost","postId","_this3","confirm","concat","mounted"],"sources":["C:\\Users\\ben\\Desktop\\mygit\\myBlog\\frontend\\src\\views\\Admin.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h2 class=\"page-title\">Manage Posts ðŸ‘‹</h2>\r\n\r\n    <!-- Publish New Post -->\r\n    <div class=\"publish-section\">\r\n      <h3>Publish New Post</h3>\r\n      <input v-model=\"title\" class=\"input-field\" placeholder=\"Enter title here\" />\r\n      <textarea v-model=\"body\" class=\"textarea-field\" placeholder=\"Write your post in Markdown\" rows=\"10\"></textarea>\r\n      <button class=\"submit-btn\" @click=\"submitPost\">Submit</button>\r\n\r\n      <p v-if=\"success\" class=\"success-msg\">âœ… Post published successfully!</p>\r\n    </div>\r\n\r\n    <!-- List of Posts -->\r\n    <div v-if=\"posts.length > 0\" class=\"posts-list\">\r\n      <h3>Published Posts</h3>\r\n      <div v-for=\"post in posts\" :key=\"post.id\" class=\"post-card\">\r\n        <h3>{{ post.title }}</h3>\r\n        <button @click=\"deletePost(post.id)\" class=\"delete-btn\">Delete</button>\r\n      </div>\r\n    </div>\r\n    <p v-else class=\"no-posts-msg\">No posts available. Start by publishing a new one!</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      title: '',\r\n      body: '',\r\n      posts: [],\r\n      success: false\r\n    }\r\n  },\r\n  methods: {\r\n    fetchPosts() {\r\n      axios.get('http://localhost:5000/api/posts')\r\n        .then(res => {\r\n          this.posts = res.data\r\n        })\r\n    },\r\n    submitPost() {\r\n      axios.post('http://localhost:5000/api/post', {\r\n        title: this.title,\r\n        body: this.body\r\n      })\r\n      .then(() => {\r\n        this.success = true\r\n        this.title = ''\r\n        this.body = ''\r\n        this.fetchPosts()  // Refresh posts list after submission\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Error while submitting post:\", err)\r\n      })\r\n    },\r\n    deletePost(postId) {\r\n      if (confirm(\"Are you sure you want to delete this post?\")) {\r\n        axios.delete(`http://localhost:5000/api/post/${postId}`)\r\n          .then(() => {\r\n            this.success = false\r\n            this.fetchPosts()  // Refresh posts list after deletion\r\n          })\r\n          .catch((err) => {\r\n            console.error(\"Error deleting post:\", err)\r\n          })\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchPosts()  // Fetch posts when the page loads\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page-title {\r\n  font-size: 42px;\r\n  font-weight: 600;\r\n  margin-bottom: 24px;\r\n  color: #111;\r\n  text-align: center;\r\n}\r\n\r\n.publish-section, .posts-list {\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.input-field, .textarea-field {\r\n  width: 100%;\r\n  padding: 16px;\r\n  margin-bottom: 24px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  background-color: #f9f9f9;\r\n}\r\n\r\n.submit-btn {\r\n  background-color: #007aff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 12px 24px;\r\n  font-size: 18px;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.submit-btn:hover {\r\n  background-color: #005bb5;\r\n}\r\n\r\n.delete-btn {\r\n  background-color: #ff3b30;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 10px 20px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  margin-top: 12px;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.delete-btn:hover {\r\n  background-color: #d2301e;\r\n}\r\n\r\n.success-msg {\r\n  color: #28a745;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  margin-top: 20px;\r\n}\r\n\r\n.no-posts-msg {\r\n  color: #777;\r\n  text-align: center;\r\n}\r\n</style>\r\n"],"mappings":"AA2BA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAI,WAAJA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE;IACX;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,UAAU,WAAVA,UAAUA,CAAA,EAAG;MAAA,IAAAC,KAAA;MACXR,KAAK,CAACS,GAAG,CAAC,iCAAiC,EACxCC,IAAI,CAAC,UAAAC,GAAE,EAAK;QACXH,KAAI,CAACJ,KAAI,GAAIO,GAAG,CAACV,IAAG;MACtB,CAAC;IACL,CAAC;IACDW,UAAU,WAAVA,UAAUA,CAAA,EAAG;MAAA,IAAAC,MAAA;MACXb,KAAK,CAACc,IAAI,CAAC,gCAAgC,EAAE;QAC3CZ,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBC,IAAI,EAAE,IAAI,CAACA;MACb,CAAC,EACAO,IAAI,CAAC,YAAM;QACVG,MAAI,CAACR,OAAM,GAAI,IAAG;QAClBQ,MAAI,CAACX,KAAI,GAAI,EAAC;QACdW,MAAI,CAACV,IAAG,GAAI,EAAC;QACbU,MAAI,CAACN,UAAU,CAAC,GAAG;MACrB,CAAC,UACK,CAAC,UAACQ,GAAG,EAAK;QACdC,OAAO,CAACC,KAAK,CAAC,8BAA8B,EAAEF,GAAG;MACnD,CAAC;IACH,CAAC;IACDG,UAAU,WAAVA,UAAUA,CAACC,MAAM,EAAE;MAAA,IAAAC,MAAA;MACjB,IAAIC,OAAO,CAAC,4CAA4C,CAAC,EAAE;QACzDrB,KAAK,UAAO,mCAAAsB,MAAA,CAAmCH,MAAM,CAAE,EACpDT,IAAI,CAAC,YAAM;UACVU,MAAI,CAACf,OAAM,GAAI,KAAI;UACnBe,MAAI,CAACb,UAAU,CAAC,GAAG;QACrB,CAAC,UACK,CAAC,UAACQ,GAAG,EAAK;UACdC,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEF,GAAG;QAC3C,CAAC;MACL;IACF;EACF,CAAC;EACDQ,OAAO,WAAPA,OAAOA,CAAA,EAAG;IACR,IAAI,CAAChB,UAAU,CAAC,GAAG;EACrB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}